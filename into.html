<!doctype html>
<html lang="en" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ø¹Ø¬Ù„Ø© Ø¯Ù„Ø§Ù„ÙƒÙ ğŸ’–</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Amiri:ital,wght@0,400;0,700;1,400&family=Dancing+Script:wght@700&display=swap"
      rel="stylesheet"
    />

    <style>
      /* ------------------- Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØµÙØ­Ø© ÙˆØ§Ù„Ø®Ù„ÙÙŠØ© ------------------- */
      :root {
        --primary-pink: #ffb7b2;
        --soft-purple: #c7ceea;
        --gold: #ffd700;
        --glass: rgba(255, 255, 255, 0.15);
      }

      body,
      html {
        margin: 0;
        padding: 0;
        width: 100%;
        height: 100%;
        overflow: hidden;
        background: radial-gradient(circle at center, #2b1029 0%, #000000 100%);
        font-family: "Amiri", serif;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        color: white;
      }

      /* ØªØ£Ø«ÙŠØ± Ø§Ù„Ù†Ø¬ÙˆÙ… Ø§Ù„Ø®Ù„ÙÙŠØ© */
      .stars {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        background-image:
          radial-gradient(2px 2px at 20px 30px, #eee, rgba(0, 0, 0, 0)),
          radial-gradient(2px 2px at 40px 70px, #fff, rgba(0, 0, 0, 0)),
          radial-gradient(2px 2px at 50px 160px, #ddd, rgba(0, 0, 0, 0)),
          radial-gradient(2px 2px at 90px 40px, #fff, rgba(0, 0, 0, 0));
        background-repeat: repeat;
        background-size: 200px 200px;
        animation: twinkle 4s infinite;
        opacity: 0.5;
      }

      @keyframes twinkle {
        0% {
          transform: translateY(0);
        }
        100% {
          transform: translateY(-100px);
        }
      }

      /* ØªØ£Ø«ÙŠØ± Ø¨ØªÙ„Ø§Øª Ø§Ù„ÙˆØ±Ø¯ Ø§Ù„Ù…ØªØ³Ø§Ù‚Ø·Ø© */
      .petal {
        position: absolute;
        background-color: #ff4d6d;
        border-radius: 150% 0 150% 0;
        animation: fall linear infinite;
        opacity: 0.7;
        pointer-events: none;
        z-index: 1;
      }

      @keyframes fall {
        0% {
          transform: translate(0, -10vh) rotate(0deg);
          opacity: 0;
        }
        20% {
          opacity: 0.8;
        }
        100% {
          transform: translate(-20px, 110vh) rotate(360deg);
          opacity: 0;
        }
      }

      body {
        font-family: "Tajawal", sans-serif;
        overflow: hidden;
        position: relative;
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        background: linear-gradient(
          135deg,
          #667eea 0%,
          #764ba2 50%,
          #f093fb 100%
        );
      }

      /* Animated Stars Background */
      .stars {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 1;
      }

      .star {
        position: absolute;
        background: white;
        border-radius: 50%;
        animation: twinkle 3s infinite;
      }

      @keyframes twinkle {
        0%,
        100% {
          opacity: 0.3;
          transform: scale(1);
        }
        50% {
          opacity: 1;
          transform: scale(1.2);
        }
      }

      /* Falling Rose Petals */
      .petal {
        position: absolute;
        width: 10px;
        height: 10px;
        background: rgba(255, 182, 193, 0.7);
        border-radius: 50% 0 50% 0;
        animation: fall linear infinite;
        z-index: 1;
      }

      @keyframes fall {
        to {
          transform: translateY(100vh) rotate(360deg);
        }
      }

      /* ------------------- Ø§Ù„Ø¹Ù†ÙˆØ§Ù† ÙˆØ§Ù„Ø²Ø± ------------------- */
      .header {
        z-index: 10;
        text-align: center;
        margin-bottom: 20px;
        text-shadow: 0 0 10px rgba(255, 105, 180, 0.8);
      }

      h1 {
        font-size: 2.5rem;
        margin: 0;
        color: #fff0f5;
      }

      p.subtitle {
        font-size: 1.2rem;
        color: var(--primary-pink);
        margin-top: 5px;
      }

      /* Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ø¹Ø¬Ù„Ø© */
      .wheel-container {
        position: relative;
        width: 350px;
        height: 350px;
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 5;
        filter: drop-shadow(0 0 15px rgba(255, 183, 178, 0.3));
      }

      /* Ù‚Ù…Ø§Ø´ Ø§Ù„Ø¹Ø¬Ù„Ø© */
      canvas {
        border-radius: 50%;
        transition: transform 5s cubic-bezier(0.25, 0.1, 0.25, 1);
      }

      /* Ø§Ù„Ù…Ø¤Ø´Ø± (Ø§Ù„Ù‚Ù„Ø¨ ÙÙŠ Ø§Ù„ÙˆØ³Ø·) */
      .center-heart {
        position: absolute;
        width: 60px;
        height: 60px;
        background: radial-gradient(circle at 30% 30%, #ff5e78, #ff0a43);
        border-radius: 50%;
        box-shadow:
          0 0 15px rgba(255, 10, 67, 0.6),
          inset -2px -2px 5px rgba(0, 0, 0, 0.2);
        z-index: 20;
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        transition: transform 0.2s;
      }

      .center-heart::after {
        content: "â¤";
        font-size: 30px;
        color: white;
        padding-top: 4px;
      }

      .center-heart:active {
        transform: scale(0.9);
      }

      /* Ù…Ø¤Ø´Ø± Ø§Ù„Ø³Ù‡Ù… Ø§Ù„Ø«Ø§Ø¨Øª ÙÙŠ Ø§Ù„Ø£Ø¹Ù„Ù‰ */
      .marker {
        position: absolute;
        top: -15px;
        width: 0;
        height: 0;
        border-left: 15px solid transparent;
        border-right: 15px solid transparent;
        border-top: 25px solid white;
        z-index: 20;
        filter: drop-shadow(0 2px 2px rgba(0, 0, 0, 0.3));
      }

      /* Ø²Ø± Ø§Ù„Ø¯ÙˆØ±Ø§Ù† */
      .spin-btn {
        margin-top: 30px;
        padding: 12px 40px;
        font-size: 1.2rem;
        background: linear-gradient(
          45deg,
          #ff9a9e 0%,
          #fad0c4 99%,
          #fad0c4 100%
        );
        border: none;
        border-radius: 50px;
        color: #000000;
        font-family: "Amiri", serif;
        cursor: pointer;
        box-shadow: 0 5px 15px rgba(255, 154, 158, 0.4);
        transition: all 0.3s;
        z-index: 10;
      }

      .spin-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 20px rgba(255, 154, 158, 0.6);
      }

      .spin-btn:disabled {
        background: #ccc;
        cursor: not-allowed;
        transform: none;
      }

      /* ------------------- Ø§Ù„Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø© (Modal) ------------------- */
      .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.7);
        display: flex;
        justify-content: center;
        align-items: center;
        opacity: 0;
        visibility: hidden;
        transition: all 0.5s ease;
        z-index: 100;
        backdrop-filter: blur(5px);
      }

      .modal-overlay.active {
        opacity: 1;
        visibility: visible;
      }

      .modal-content {
        background: rgba(255, 255, 255, 0.95);
        width: 90%;
        max-width: 400px;
        padding: 30px;
        border-radius: 20px;
        text-align: center;
        color: #333;
        transform: scale(0.7);
        transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        box-shadow: 0 0 30px rgba(255, 255, 255, 0.2);
        border: 2px solid var(--gold);
        position: relative;
        overflow: hidden;
      }

      .modal-overlay.active .modal-content {
        transform: scale(1);
      }

      .modal-title {
        font-size: 2rem;
        color: #ff4d6d;
        margin-bottom: 10px;
        font-family: "Dancing Script", cursive; /* Ø®Ø· Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ Ø£Ùˆ Ø¹Ø±Ø¨ÙŠ Ù…Ø²Ø®Ø±Ù */
      }

      .modal-message {
        font-size: 1.1rem;
        line-height: 1.6;
        color: #555;
        margin-bottom: 20px;
      }

      .modal-image {
        width: 200px;
        height:auto;
        object-fit: cover;
        margin-bottom: 15px;
        border: 3px solid var(--gold);
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.05);
        }
        100% {
          transform: scale(1);
        }
      }

      .close-btn {
        background: #ff4d6d;
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 20px;
        cursor: pointer;
        font-family: "Amiri", serif;
        font-size: 1rem;
      }

      /* ------------------- Ø§Ù„Ù‚ØµØ§ØµØ§Øª (Confetti) ------------------- */
      #confetti-canvas {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 99;
      }
    </style>
  </head>
  <body>
    <div class="stars"></div>
    <div id="petals-container"></div>

    <div class="header">
      <h1>Kifach nlghalk lyom my nimo </h1>
      <p class="subtitle">Ø¯Ø¹ÙŠ Ù‚Ù„Ø¨Ùƒ ÙŠØ®ØªØ§Ø± Ø¯Ù„Ø§Ù„Ù‡ ÙŠØ§Ø­Ù„ÙˆØªÙŠ Ø§Ù„ØµØºÙŠØ±Ø©...</p>
    </div>

    <div class="wheel-container">
      <div class="marker"></div>
      <canvas id="wheel" width="350" height="350"></canvas>
      <div class="center-heart" onclick="spinWheel()"></div>
    </div>

    <button class="spin-btn" id="spinBtn" onclick="spinWheel()">
     khliha dor kima my heart ki ychofk 
    </button>

    <div class="modal-overlay" id="modal">
      <div class="modal-content">
        <img
          src="https://media.giphy.com/media/l4pTfx2qLszoacZRS/giphy.gif"
          alt="Heart"
          class="modal-image"
          id="resultImage"
        />
        <div class="modal-title" id="resultTitle">Ø§Ø³Ù… Ø§Ù„Ø¯Ù„Ø§Ù„</div>
        <div class="modal-message" id="resultMessage">
          Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø±ÙˆÙ…Ø§Ù†Ø³ÙŠØ©...
        </div>
        <button class="close-btn" onclick="closeModal()">â¤ï¸ I like it â¤ï¸</button>
      </div>
    </div>

    <canvas id="confetti-canvas"></canvas>

    <script>
      // ------------------- Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ù‡Ù†Ø§) -------------------
      const segments = [
        {
          name: "My imene",
          color: "#FFB7B2",
          msg: "I look at you and see the rest of my life in your eyes",
          gifSrc: "gifs/cat.gif"
        },
        {
          name: " my nimo",
          color: "#FFDAC1",
          msg: "You're the first thing I think of when I wake up and the last before I sleep",
           gifSrc: "gifs/wow1.gif"
        },
        {
          name: "Mommy",
          color: "#E2F0CB",
          msg: "Do you have a map? I just got lost in your eyes",
           gifSrc: "gifs/wow2.gif"
        },
        {
          name: "My girl ",
          color: "#B5EAD7",
          msg: "Aside from being gorgeous and pretty what do you do for a living?",
           gifSrc: "gifs/wow3.gif"
        },
        {
          name: "My heart",
          color: "#C7CEEA",
          msg:"Are you a magician? Because whenever I look at you, everyone else disappears",
           gifSrc: "gifs/wow4.gif"
        },
        {
          name:"My love",
          color: "#F08080",
          msg: "Are you a camera? Because every time I look at you I smile",
           gifSrc: "gifs/wow5.gif"
        },
      ];

      // ------------------- Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¹Ø¬Ù„Ø© -------------------
      const canvas = document.getElementById("wheel");
      const ctx = canvas.getContext("2d");
      const width = canvas.width;
      const height = canvas.height;
      const centerX = width / 2;
      const centerY = height / 2;
      const radius = width / 2 - 10; // ØªØ±Ùƒ Ù‡Ø§Ù…Ø´ Ø¨Ø³ÙŠØ·

      let currentAngle = 0;
      let isSpinning = false;
      let spinVelocity = 0;
      let animationFrameId;

      // Ø±Ø³Ù… Ø§Ù„Ø¹Ø¬Ù„Ø©
      function drawWheel() {
        const arcSize = (2 * Math.PI) / segments.length;

        segments.forEach((segment, i) => {
          const angle = currentAngle + i * arcSize;

          ctx.beginPath();
          ctx.moveTo(centerX, centerY);
          ctx.arc(centerX, centerY, radius, angle, angle + arcSize);
          ctx.fillStyle = segment.color;
          ctx.fill();
          ctx.strokeStyle = "#fff";
          ctx.lineWidth = 2;
          ctx.stroke();

          // Ø±Ø³Ù… Ø§Ù„Ù†Øµ
          ctx.save();
          ctx.translate(centerX, centerY);
          ctx.rotate(angle + arcSize / 2);
          ctx.textAlign = "right";
          ctx.fillStyle = "#555";
          ctx.font = "bold 18px Amiri";
          ctx.fillText(segment.name, radius - 20, 5);

          // Ø¥Ø¶Ø§ÙØ© Ù‚Ù„ÙˆØ¨ ØµØºÙŠØ±Ø© ÙÙŠ Ø§Ù„Ø£Ø·Ø±Ø§Ù
          ctx.font = "14px Arial";
          ctx.fillText("â™¥", radius - 5, 4);

          ctx.restore();
        });

        // Ø±Ø³Ù… Ø¥Ø·Ø§Ø± Ø®Ø§Ø±Ø¬ÙŠ Ø°Ù‡Ø¨ÙŠ
        ctx.beginPath();
        ctx.arc(centerX, centerY, radius, 0, 2 * Math.PI);
        ctx.lineWidth = 8;
        ctx.strokeStyle = "#FFD700"; // Ø°Ù‡Ø¨ÙŠ
        ctx.stroke();
      }

      drawWheel();

      // ------------------- Ù…Ù†Ø·Ù‚ Ø§Ù„Ø¯ÙˆØ±Ø§Ù† -------------------
      // Ø¥Ù†Ø´Ø§Ø¡ Ø³ÙŠØ§Ù‚ ØµÙˆØªÙŠ Ù„ØªÙˆÙ„ÙŠØ¯ ØµÙˆØª "Ø§Ù„ØªÙƒØªÙƒØ©"
      const audioCtx = new (window.AudioContext || window.webkitAudioContext)();

      function playTickSound() {
        if (audioCtx.state === "suspended") audioCtx.resume();
        const oscillator = audioCtx.createOscillator();
        const gainNode = audioCtx.createGain();

        oscillator.type = "triangle";
        oscillator.frequency.setValueAtTime(800, audioCtx.currentTime); // ØªØ±Ø¯Ø¯ Ø¹Ø§Ù„ÙŠ Ù„Ù„Ù†Ù‚Ø±Ø©
        oscillator.frequency.exponentialRampToValueAtTime(
          100,
          audioCtx.currentTime + 0.1,
        );

        gainNode.gain.setValueAtTime(0.05, audioCtx.currentTime); // ØµÙˆØª Ø®Ø§ÙØª
        gainNode.gain.exponentialRampToValueAtTime(
          0.001,
          audioCtx.currentTime + 0.1,
        );

        oscillator.connect(gainNode);
        gainNode.connect(audioCtx.destination);
        oscillator.start();
        oscillator.stop(audioCtx.currentTime + 0.1);
      }

      let lastSegmentIndex = -1;

      function spin() {
        spinVelocity *= 0.985; // Ø§Ø­ØªÙƒØ§Ùƒ (Ø¥Ø¨Ø·Ø§Ø¡ ØªØ¯Ø±ÙŠØ¬ÙŠ)
        currentAngle += spinVelocity;

        // Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ø²Ø§ÙˆÙŠØ© Ø¨ÙŠÙ† 0 Ùˆ 2PI
        if (currentAngle >= 2 * Math.PI) currentAngle -= 2 * Math.PI;

        drawWheel();

        // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¤Ø´Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„ØµÙˆØª
        // Ø§Ù„Ø³Ù‡Ù… ÙÙŠ Ø§Ù„Ø£Ø¹Ù„Ù‰ (Ø²Ø§ÙˆÙŠØ© 270 Ø¯Ø±Ø¬Ø© Ø£Ùˆ -90)
        // Ù†Ø­ØªØ§Ø¬ Ù„Ø­Ø³Ø§Ø¨ Ø£ÙŠ Ù‚Ø·Ø¹Ø© ØªÙ…Ø± ØªØ­Øª Ø§Ù„Ø³Ù‡Ù… Ø§Ù„Ø¢Ù†
        const arcSize = (2 * Math.PI) / segments.length;
        const correction = Math.PI / 2; // ØªØµØ­ÙŠØ­ Ù„Ø£Ù† Ø§Ù„ØµÙØ± Ø¹Ø§Ø¯Ø© Ø¹Ù„Ù‰ Ø§Ù„ÙŠÙ…ÙŠÙ† ÙˆØ§Ù„Ø³Ù‡Ù… ÙÙŠ Ø§Ù„Ø£Ø¹Ù„Ù‰
        // Ù…Ø¹Ø§Ø¯Ù„Ø© ØªÙ‚Ø±ÙŠØ¨ÙŠØ© Ù„Ù…Ø¹Ø±ÙØ© Ø§Ù„Ù…Ø¤Ø´Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø¯ÙˆØ±Ø§Ù†
        const rawAngle =
          2 * Math.PI - ((currentAngle + correction) % (2 * Math.PI));
        const currentIndex = Math.floor(
          ((rawAngle + 2 * Math.PI) % (2 * Math.PI)) / arcSize,
        );

        if (currentIndex !== lastSegmentIndex && spinVelocity > 0.05) {
          playTickSound();
          lastSegmentIndex = currentIndex;
        }

        if (spinVelocity < 0.002) {
          isSpinning = false;
          cancelAnimationFrame(animationFrameId);
          determineWinner();
        } else {
          animationFrameId = requestAnimationFrame(spin);
        }
      }

      function spinWheel() {
        if (isSpinning) return;
        isSpinning = true;
        document.getElementById("spinBtn").disabled = true;

        // Ø³Ø±Ø¹Ø© Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠØ© Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© (Ø³Ø±ÙŠØ¹Ø©)
        spinVelocity = Math.random() * 0.3 + 0.4;
        spin();
      }

      function determineWinner() {
        const arcSize = (2 * Math.PI) / segments.length;
        // Ø§Ù„Ù…Ø¤Ø´Ø± Ø§Ù„Ø«Ø§Ø¨Øª ÙÙŠ Ø§Ù„Ø£Ø¹Ù„Ù‰ (-PI/2)
        // Ø§Ù„Ø²Ø§ÙˆÙŠØ© Ø§Ù„ÙØ¹Ù„ÙŠØ© Ù„Ù„Ù‚Ø·Ø¹Ø© Ø§Ù„ÙØ§Ø¦Ø²Ø© Ù‡ÙŠ Ø§Ù„ØªÙŠ ØªÙƒÙˆÙ† Ø¹Ù†Ø¯ Ø§Ù„Ø²Ø§ÙˆÙŠØ© 270 Ø¯Ø±Ø¬Ø©
        const correction = Math.PI / 2;
        let winningAngle =
          2 * Math.PI - ((currentAngle + correction) % (2 * Math.PI));
        if (winningAngle < 0) winningAngle += 2 * Math.PI;

        const winningIndex = Math.floor(winningAngle / arcSize);
        const winner = segments[winningIndex];

        showResult(winner);
      }

      // ------------------- Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù†ØªÙŠØ¬Ø© -------------------
      // ------------------- Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù†ØªÙŠØ¬Ø© -------------------
        function showResult(winner) {
            const modal = document.getElementById('modal');
            const imageElement = document.getElementById('resultImage'); // Ø§Ù„Ø¹Ù†ØµØ± Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ Ø¹Ù† Ø§Ù„ØµÙˆØ±Ø©

            document.getElementById('resultTitle').innerText = winner.name;
            document.getElementById('resultMessage').innerText = winner.msg;
            
            // Ù‡Ù†Ø§ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¬Ø¯ÙŠØ¯: ØªØºÙŠÙŠØ± Ù…ØµØ¯Ø± Ø§Ù„ØµÙˆØ±Ø© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„ÙØ§Ø¦Ø²
            // Ø¥Ø°Ø§ Ù„Ù… Ù†Ø¬Ø¯ ØµÙˆØ±Ø© Ù…Ø­Ø¯Ø¯Ø©ØŒ Ù†Ø³ØªØ®Ø¯Ù… ØµÙˆØ±Ø© Ø§ÙØªØ±Ø§Ø¶ÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
            if (winner.gifSrc) {
                imageElement.src = winner.gifSrc;
            } else {
                // Ø±Ø§Ø¨Ø· Ù„ØµÙˆØ±Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ© ÙÙŠ Ø­Ø§Ù„ Ù†Ø³ÙŠØª ÙˆØ¶Ø¹ ØµÙˆØ±Ø© Ù„Ø§Ø³Ù… Ù…Ø¹ÙŠÙ†
                 imageElement.src = "https://media.giphy.com/media/l4pTfx2qLszoacZRS/giphy.gif";
            }
            
            modal.classList.add('active');
            startConfetti();
        }
        
      // ------------------- ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ø®Ù„ÙÙŠØ© (Ø§Ù„Ø¨ØªÙ„Ø§Øª) -------------------
      function createPetals() {
        const container = document.getElementById("petals-container");
        const petalCount = 15;

        for (let i = 0; i < petalCount; i++) {
          const petal = document.createElement("div");
          petal.classList.add("petal");
          petal.style.left = Math.random() * 100 + "vw";
          petal.style.animationDuration = Math.random() * 5 + 5 + "s";
          petal.style.animationDelay = Math.random() * 5 + "s";
          container.appendChild(petal);
        }
      }
      createPetals();

      // ------------------- ØªØ£Ø«ÙŠØ± Ø§Ù„Ù‚ØµØ§ØµØ§Øª (Confetti) Ø§Ù„Ø³Ø±ÙŠØ¹ -------------------
      const confettiCanvas = document.getElementById("confetti-canvas");
      const cCtx = confettiCanvas.getContext("2d");
      let confettiParticles = [];
      let confettiAnimationId;

      function resizeConfetti() {
        confettiCanvas.width = window.innerWidth;
        confettiCanvas.height = window.innerHeight;
      }
      window.addEventListener("resize", resizeConfetti);
      resizeConfetti();

      function startConfetti() {
        confettiParticles = [];
        for (let i = 0; i < 150; i++) {
          confettiParticles.push({
            x: window.innerWidth / 2,
            y: window.innerHeight / 2,
            w: Math.random() * 20 + 10,
            h: Math.random() * 10 + 5,
            vx: (Math.random() - 0.5) * 20,
            vy: (Math.random() - 0.5) * 20 - 10,
            color: `hsl(${Math.random() * 360}, 100%, 70%)`,
            rotation: Math.random() * 360,
            rotationSpeed: (Math.random() - 0.5) * 10,
          });
        }
        animateConfetti();
      }

      function animateConfetti() {
        cCtx.clearRect(0, 0, confettiCanvas.width, confettiCanvas.height);

        confettiParticles.forEach((p, index) => {
          p.x += p.vx;
          p.y += p.vy;
          p.vy += 0.5; // Ø¬Ø§Ø°Ø¨ÙŠØ©
          p.rotation += p.rotationSpeed;

          // Ø±Ø³Ù… Ù‚Ù„Ø¨
          cCtx.save();
          cCtx.translate(p.x, p.y);
          cCtx.rotate((p.rotation * Math.PI) / 180);
          cCtx.fillStyle = p.color;
          cCtx.font = `${p.w}px serif`;
          cCtx.fillText("â™¥", 0, 0);
          cCtx.restore();

          if (p.y > window.innerHeight) confettiParticles.splice(index, 1);
        });

        if (confettiParticles.length > 0) {
          confettiAnimationId = requestAnimationFrame(animateConfetti);
        }
      }

      function stopConfetti() {
        cancelAnimationFrame(confettiAnimationId);
        cCtx.clearRect(0, 0, confettiCanvas.width, confettiCanvas.height);
      }

      // ------------------- Ø¯Ø§Ù„Ø© Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù†Ø§ÙØ°Ø© (Ø§Ù†Ø³Ø®ÙŠ Ù‡Ø°Ø§ Ø§Ù„Ø¬Ø²Ø¡) -------------------
        function closeModal() {
            // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù†Ø§ÙØ°Ø©
            document.getElementById('modal').classList.remove('active');
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªÙØ¹ÙŠÙ„ Ø²Ø± Ø§Ù„Ø¯ÙˆØ±Ø§Ù†
            document.getElementById('spinBtn').disabled = false;
            
            // Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ù‚ØµØ§ØµØ§Øª Ø§Ù„Ù…Ù„ÙˆÙ†Ø©
            stopConfetti();
        }
    </script>
  </body>
</html>
